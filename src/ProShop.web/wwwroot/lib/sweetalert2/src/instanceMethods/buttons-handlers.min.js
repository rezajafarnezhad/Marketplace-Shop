/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/sweetalert2@11.3.0/src/instanceMethods/buttons-handlers.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{isVisible}from"../utils/dom/domUtils.js";import{getInputValue}from"../utils/dom/inputUtils.js";import{getDenyButton,getValidationMessage}from"../utils/dom/getters.js";import{asPromise}from"../utils/utils.js";import{showLoading}from"../staticMethods/showLoading.js";import{DismissReason}from"../utils/DismissReason.js";import privateProps from"../privateProps.js";export const handleConfirmButtonClick=e=>{const i=privateProps.innerParams.get(e);e.disableButtons(),i.input?handleConfirmOrDenyWithInput(e,"confirm"):confirm(e,!0)};export const handleDenyButtonClick=e=>{const i=privateProps.innerParams.get(e);e.disableButtons(),i.returnInputValueOnDeny?handleConfirmOrDenyWithInput(e,"deny"):deny(e,!1)};export const handleCancelButtonClick=(e,i)=>{e.disableButtons(),i(DismissReason.cancel)};const handleConfirmOrDenyWithInput=(e,i)=>{const t=privateProps.innerParams.get(e),s=getInputValue(e,t);t.inputValidator?handleInputValidator(e,s,i):e.getInput().checkValidity()?"deny"===i?deny(e,s):confirm(e,s):(e.enableButtons(),e.showValidationMessage(t.validationMessage))},handleInputValidator=(e,i,t)=>{const s=privateProps.innerParams.get(e);e.disableInput();Promise.resolve().then((()=>asPromise(s.inputValidator(i,s.validationMessage)))).then((s=>{e.enableButtons(),e.enableInput(),s?e.showValidationMessage(s):"deny"===t?deny(e,i):confirm(e,i)}))},deny=(e,i)=>{const t=privateProps.innerParams.get(e||this);if(t.showLoaderOnDeny&&showLoading(getDenyButton()),t.preDeny){privateProps.awaitingPromise.set(e||this,!0);Promise.resolve().then((()=>asPromise(t.preDeny(i,t.validationMessage)))).then((t=>{!1===t?e.hideLoading():e.closePopup({isDenied:!0,value:void 0===t?i:t})})).catch((i=>rejectWith(e||this,i)))}else e.closePopup({isDenied:!0,value:i})},succeedWith=(e,i)=>{e.closePopup({isConfirmed:!0,value:i})},rejectWith=(e,i)=>{e.rejectPromise(i)},confirm=(e,i)=>{const t=privateProps.innerParams.get(e||this);if(t.showLoaderOnConfirm&&showLoading(),t.preConfirm){e.resetValidationMessage(),privateProps.awaitingPromise.set(e||this,!0);Promise.resolve().then((()=>asPromise(t.preConfirm(i,t.validationMessage)))).then((t=>{isVisible(getValidationMessage())||!1===t?e.hideLoading():succeedWith(e,void 0===t?i:t)})).catch((i=>rejectWith(e||this,i)))}else succeedWith(e,i)};
//# sourceMappingURL=/sm/ceb5a20352ebe0f48f9e8cd72909ab5c08c8f6acac3d283b6ba19a5e7fa042ec.map